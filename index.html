<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Shawn's Website Library</title>
  <style>
    html { font-size: clamp(14px, 1.35vw + 0.5px, 18px); box-sizing: border-box; }
    *, *::before, *::after { box-sizing: inherit; }
    :root{
      --bg:#0f1115; --panel:#141619; --muted:#9aa0a6; --accent:#4da3ff; --card:#181a1d;
      --radius: 0.75rem;
    }
    html,body{height:100%;margin:0;font-family: system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;color:#e8eef6;background:var(--bg);-webkit-font-smoothing:antialiased;}
    header{display:flex;align-items:center;gap:0.75rem;padding:0.9rem 1rem;background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);border-bottom:1px solid rgba(255,255,255,0.03)}
    header h1{font-size:1.05rem;margin:0}
    header .controls{margin-left:auto;display:flex;gap:0.5rem;align-items:center}
    button.btn{background:var(--card);border:1px solid rgba(255,255,255,0.03);padding:0.45rem 0.6rem;border-radius:0.5rem;color:inherit;cursor:pointer;font-size:1rem}
    button.btn:hover{box-shadow:0 0.25rem 1.125rem rgba(0,0,0,0.4)}

    #container{display:flex;height:calc(100vh - 3.5rem);overflow:hidden}
    #sidebar{width:16.25rem;background:linear-gradient(180deg,rgba(255,255,255,0.01),transparent);padding:1rem;box-sizing:border-box;border-right:1px solid rgba(255,255,255,0.02);overflow:auto;transition:transform .28s ease}
    #sidebar.hidden{transform:translateX(-100%)}
    #nav h2{margin:0;padding:0.5rem 0;cursor:pointer;display:flex;align-items:center;gap:0.5rem;font-size:1rem}
    #nav ul{list-style:none;padding-left:1rem;margin:0 0 1rem 0;display:none}
    #nav li{margin:0.35rem 0}
    #nav a{color:var(--accent);text-decoration:none;font-size:0.95rem}
    #main{flex:1;overflow:auto;padding:1rem;box-sizing:border-box}
    section.card{background:var(--panel);padding:1rem;border-radius:0.75rem;margin-bottom:1rem;border:1px solid rgba(255,255,255,0.03)}
    .site-item{padding:0.6rem 0;border-bottom:1px dashed rgba(255,255,255,0.03)}
    .site-item:last-child{border-bottom:none}
    .site-item a{font-weight:600;color:var(--accent);text-decoration:none;font-size:1rem}
    .site-desc{color:var(--muted);margin:0.3rem 0;font-size:0.95rem}

    .overlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;
      background:rgba(0,0,0,0.55);backdrop-filter:blur(4px);z-index:9999;}
    .modal{width:min(520px,92vw);background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);border-radius:0.875rem;padding:1.2rem;border:1px solid rgba(255,255,255,0.04);box-shadow:0 0.5rem 2rem rgba(0,0,0,0.6);}
    .modal h2{margin:0 0 0.6rem 0;font-size:1.05rem}
    .modal p{margin:0.2rem 0 0.8rem 0;color:var(--muted);font-size:0.95rem}
    .modal .row{display:flex;gap:0.5rem}
    .modal input{flex:1;padding:0.6rem 0.7rem;border-radius:0.5rem;border:1px solid rgba(255,255,255,0.03);background:transparent;color:inherit;font-size:1rem}
    .modal .error{color:#ff7b7b;margin-top:0.5rem;font-size:0.95rem;min-height:1.1em}
    .modal .small{font-size:0.85rem;color:var(--muted);margin-top:0.6rem}

    @media (max-width:820px){
      #sidebar{position:fixed;left:0;top:3.5rem;height:calc(100vh - 3.5rem);z-index:40;box-shadow:8px 0 20px rgba(0,0,0,0.6)}
      #main{padding:0.8rem}
    }

    a { word-break: break-word; }

    /* è¯­è¨€åˆ‡æ¢æŒ‰é’® */
    #langSwitch {display:flex;gap:0.4rem;}
    .lang-btn {padding:0.3rem 0.8rem;border-radius:0.5rem;cursor:pointer;font-size:0.9rem;
      border:1px solid #666;background:#111;color:#fff;}
    .lang-btn.active {background:#fff;color:#000;}
  </style>
</head>
<body>
  <header>
    <button id="toggleBtn" class="btn" aria-label="Toggle sidebar">â˜°</button>
    <h1 id="pageTitle">Shawn's Website Library Â· èµµæ¶µç»çš„ç½‘ç«™åº“</h1>
    <div class="controls">
      <div id="langSwitch">
        <button id="btnZh" class="lang-btn active">ä¸­æ–‡</button>
        <button id="btnEn" class="lang-btn">English</button>
      </div>
      <button id="lockBtn" class="btn" title="Lock site">ğŸ”“ è§£é”</button>
    </div>
  </header>

  <div id="container">
    <aside id="sidebar" aria-label="Sidebar">
      <nav id="nav" aria-label="Categories"></nav>
    </aside>
    <main id="main" tabindex="-1">
      <div id="content" aria-live="polite"></div>
    </main>
  </div>

  <!-- Password overlay -->
  <div id="passwordOverlay" class="overlay" style="display:none" aria-hidden="false">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="pwdTitle">
      <h2 id="pwdTitle">è¯·è¾“å…¥è®¿é—®å¯†ç </h2>
      <p>ä¸ºä¿æŠ¤æ­¤ç«™å†…å®¹ï¼Œè¯·è¾“å…¥å¯†ç ä»¥ç»§ç»­è®¿é—®ã€‚</p>
      <div class="row">
        <input id="pwdInput" type="password" inputmode="numeric" placeholder="è¾“å…¥å¯†ç " aria-label="å¯†ç " />
        <button id="pwdSubmit" class="btn">æäº¤</button>
      </div>
      <div class="error" id="pwdError" aria-live="polite"></div>
      <div class="small">ï¼ˆæç¤ºï¼šé¡µé¢ä¼šè®°ä½æœ¬æ¬¡è§£é”çŠ¶æ€ã€‚è‹¥ä¸æƒ³è¢«è®°ä½ï¼Œç‚¹é¡¶éƒ¨ Lock æŒ‰é’®é‡æ–°ä¸Šé”ã€‚ï¼‰</div>
    </div>
  </div>

  <script>
    /*********************************************************
     * ä¸­è‹±æ–‡æ•°æ®
     *********************************************************/
    const translations = {
      zh: {
        title: "Shawn's Website Library Â· èµµæ¶µç»çš„ç½‘ç«™åº“",
        lock: { locked: "ğŸ”’ é”å®š", unlocked: "ğŸ”“ è§£é”" },
        categories: [
          { title: "å¸¸ç”¨å·¥å…·", items: [
            { title: "ScanQR", url: "https://scanqr.org", desc: "åœ¨çº¿äºŒç»´ç ç”Ÿæˆå’Œæ‰«æå·¥å…·" },
            { title: "Z-Library", url: "https://z-library.sk", desc: "ç”µå­ä¹¦ä¸‹è½½ç½‘ç«™" },
            { title: "FreeCompress", url: "https://freecompress.com", desc: "æ–‡ä»¶å‹ç¼©å·¥å…·" },
            { title: "Documentary Heaven", url: "https://www.documentaryheaven.com", desc: "åœ¨çº¿è§‚çœ‹çºªå½•ç‰‡" },
            { title: "Convertio", url: "https://convertio.co", desc: "æ–‡ä»¶æ ¼å¼è½¬æ¢å·¥å…·" }
          ]},
          { title: "å‰ªè¾‘ / éŸ³ä¹", items: [
            { title: "SaveFrom.net", url: "https://zh.savefrom.net", desc: "å…è´¹è§†é¢‘å’ŒéŸ³ä¹ä¸‹è½½å·¥å…·" },
            { title: "Free Music Archive", url: "https://freemusicarchive.org", desc: "å…è´¹ã€å¯åˆæ³•ä¸‹è½½çš„éŸ³ä¹èµ„æºåº“" },
            { title: "Pixabay Music", url: "https://pixabay.com/music/", desc: "å…ç‰ˆæƒéŸ³ä¹ä¸‹è½½" }
          ]}
        ]
      },
      en: {
        title: "Shawn's Website Library",
        lock: { locked: "ğŸ”’ Lock", unlocked: "ğŸ”“ Unlock" },
        categories: [
          { title: "Tools", items: [
            { title: "ScanQR", url: "https://scanqr.org", desc: "Online QR code generator and scanner" },
            { title: "Z-Library", url: "https://z-library.sk", desc: "Ebook download site" },
            { title: "FreeCompress", url: "https://freecompress.com", desc: "File compression tool" },
            { title: "Documentary Heaven", url: "https://www.documentaryheaven.com", desc: "Watch documentaries online" },
            { title: "Convertio", url: "https://convertio.co", desc: "File format converter" }
          ]},
          { title: "Editing / Music", items: [
            { title: "SaveFrom.net", url: "https://zh.savefrom.net", desc: "Free video and music downloader" },
            { title: "Free Music Archive", url: "https://freemusicarchive.org", desc: "Free, legal music library" },
            { title: "Pixabay Music", url: "https://pixabay.com/music/", desc: "Royalty-free music downloads" }
          ]}
        ]
      }
    };

    let currentLang = "zh";
    let data = translations[currentLang];

    const overlay = document.getElementById("passwordOverlay");
    const lockBtn = document.getElementById("lockBtn");
    const nav = document.getElementById("nav");
    const content = document.getElementById("content");

    /*********************************************************
     * æ¸²æŸ“ UI
     *********************************************************/
    function buildUI(){
      nav.innerHTML = "";
      content.innerHTML = "";
      data.categories.forEach(cat => {
        const title = document.createElement("h2");
        title.textContent = "â–¸ " + cat.title;
        const ul = document.createElement("ul");
        cat.items.forEach(it=>{
          const li = document.createElement("li");
          const a = document.createElement("a");
          a.textContent = it.title;
          a.href = it.url;
          li.appendChild(a); ul.appendChild(li);
        });
        nav.appendChild(title); nav.appendChild(ul);

        const sec = document.createElement("section");
        sec.className = "card";
        const h2 = document.createElement("h2");
        h2.textContent = cat.title;
        sec.appendChild(h2);
        cat.items.forEach(it=>{
          const div = document.createElement("div");
          div.className = "site-item";
          div.innerHTML = `<a href="${it.url}" target="_blank">${it.title}</a>
                           <div class="site-desc">${it.desc}</div>`;
          sec.appendChild(div);
        });
        content.appendChild(sec);
      });
    }

    /*********************************************************
     * åˆ‡æ¢è¯­è¨€
     *********************************************************/
    function setLanguage(lang){
      currentLang = lang;
      data = translations[lang];
      document.getElementById("pageTitle").textContent = data.title;
      document.getElementById("btnZh").classList.toggle("active", lang==="zh");
      document.getElementById("btnEn").classList.toggle("active", lang==="en");
      lockBtn.textContent = (overlay.style.display === "flex") 
        ? data.lock.locked 
        : data.lock.unlocked;
      buildUI();
    }

    document.getElementById("btnZh").addEventListener("click", ()=> setLanguage("zh"));
    document.getElementById("btnEn").addEventListener("click", ()=> setLanguage("en"));

    /*********************************************************
     * é”å®š / è§£é”
     *********************************************************/
    function showOverlay(){ 
      overlay.style.display = "flex"; 
      lockBtn.textContent = translations[currentLang].lock.locked;
    }
    function hideOverlay(){ 
      overlay.style.display = "none"; 
      lockBtn.textContent = translations[currentLang].lock.unlocked;
    }

    lockBtn.addEventListener("click", ()=>{
      if(overlay.style.display === "flex"){ hideOverlay(); }
      else{ showOverlay(); }
    });

    /*********************************************************
     * åˆå§‹åŒ–
     *********************************************************/
    buildUI();
  </script>
</body>
</html>
